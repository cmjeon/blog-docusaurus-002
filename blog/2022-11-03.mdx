---
date: 2022-11-03
title: '2022년 11월 3일'
authors: [cmjeon]
tags: ['토비의스프링']
draft: true
---

## 토비의스프링

### 1장 오브젝트와 의존관계

1.4 제어의 역전(IoC)

UserDaoTest 가 하던 UserDao 에 ConnectionMaker 을 등록하는 일을 하는 일을 맡길 UserDaoFactory 를 만든다.

```java title="UserDaoFactory.java"
public class UserDaoFactory {
  public UserDao userDao() {
    UserDao dao = new UserDao(connectionMaker());
    return dao;
  }

  public ConnectionMaker connectionMaker() {
    ConnectionMaker connectionMaker = new DConnectionMaker();
    return connectionMaker;
  }
}
```

이제 UserDaoTest 에서는 UserDao 를 사용하기만 하면 된다.

```java
public class UserDaoTest {
  public static void main(String[] args) throws ClassNotFoundException, SQLException {
    UserDao dao = new UserDaoFactory().userDao();

    // ...
  }
}
```

UserDao 와 ConnectionMaker 는 데이터로직와 기술로직을 담당하게 된다.

UserDaoFactory 는 오브젝트간의 구조와 관계를 정의하는 역할을 맡게 된다.

UserDaoFactory 를 만듦으로써 애플리케이션의 구성요소 역할을 하는 오브젝트와 구조를 결정하는 오브젝트를 분리해냈다.
