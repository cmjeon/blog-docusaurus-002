---
date: 2022-11-09
title: '2022년 11월 9일'
authors: [cmjeon]
tags: ['토비의스프링']
draft: true
---

> '토비의스프링'의 '2장 테스트'

## 2.2 UserDaoTest 개선

### 2.2.1 테스트 검증의 자동화

테스트를 눈으로 확인해야하는 부분을 개선해본다.

모든 테스트는 성공과 실패의 두 가지 결과를 가질 수 있다.

UserDaoTest 클래스의 마지막 부분을 수정한다.

<!--truncate-->

```java title="UserDaoTest.java"
public class UserDaoTest {
  public static void main(String[] args) throws SQLException {
    
    // ...

    User user2 = dao.get(user.getId());
    System.out.println(user2.getName());
    System.out.println(user2.getPassword());

    System.out.println(user2,getId() + " 조회 성공");
  }
}
```

처음의 user 오브젝트와 두번째 user 오브젝트를 비교해서 조건이 맞으면 테스트를 성공, 아니면 실패로 고친다.

```java title="UserDaoTest.java"
public class UserDaoTest {
  public static void main(String[] args) throws SQLException {
  
    // ...
    
    if (!user.getName().equals(user2.getName())) { 
      System.out.println("테스트 실패 (name)");
    } else if (!user.getPassword().equals(user2.getPassword())) {
      System.out.println("테스트 실패 (password)"); 
    } else {
      System.out.println("조회 테스트 성공");
    }
  }
}
```

이제 테스트가 실행되면 조건을 비교해서 '테스트 실패', 혹은 '테스트 성공' 이라고 결과를 보여준다. 

테스트를 수행하고 결과를 검증하는 것까지 자동화된 것이다.

'테스트 실패' 로 나오면 그 원인을 찾아서 코드를 수정하면 되고, 최종적으로 '테스트 성공' 이라고 나오면 기능이 완성되었다고 확신을 하면 된다.